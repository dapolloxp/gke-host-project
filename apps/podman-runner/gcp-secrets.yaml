apiVersion: v1
kind: Secret
metadata:
  name: gcp-secrets
  annotations:
    secrets-store.csi.x-k8s.io/used: "true"
type: Opaque
stringData:
  database-password: ""
  api-key: ""
  jwt-secret: ""
---
apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: gcp-secret-provider
spec:
  provider: gcp
  parameters:
    secrets: |
      - resourceName: "projects/networkpatterns2/secrets/database-password/versions/latest"
        path: "database-password"
      - resourceName: "projects/networkpatterns2/secrets/api-key/versions/latest"
        path: "api-key"
      - resourceName: "projects/networkpatterns2/secrets/jwt-secret/versions/latest"
        path: "jwt-secret"
  secretObjects:
  - secretName: gcp-secrets
    type: Opaque
    data:
    - objectName: "database-password"
      key: "database-password"
    - objectName: "api-key"
      key: "api-key"
    - objectName: "jwt-secret"
      key: "jwt-secret"